<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--  <title>Deposit Balance</title>-->
<!--  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">-->
<!--  <style>-->
<!--    :root {-->
<!--      &#45;&#45;main-bg: #000000;-->
<!--      &#45;&#45;card-bg: #1a1a1a;-->
<!--      &#45;&#45;text-color: #ffffff;-->
<!--      &#45;&#45;hover-color: #20B2AA;-->
<!--    }-->

<!--    body {-->
<!--      background-color: var(&#45;&#45;main-bg);-->
<!--      color: var(&#45;&#45;text-color);-->
<!--      min-height: 100vh;-->
<!--    }-->

<!--    .deposit-card {-->
<!--      background-color: var(&#45;&#45;card-bg);-->
<!--      border-radius: 16px;-->
<!--      padding: 2rem;-->
<!--      max-width: 500px;-->
<!--      margin: 2rem auto;-->
<!--    }-->

<!--    .form-control {-->
<!--      background-color: #2f2f2f;-->
<!--      border: 1px solid #404040;-->
<!--      color: var(&#45;&#45;text-color);-->
<!--    }-->

<!--    .form-control:focus {-->
<!--      background-color: #2f2f2f;-->
<!--      color: var(&#45;&#45;text-color);-->
<!--      border-color: var(&#45;&#45;hover-color);-->
<!--      box-shadow: 0 0 0 0.25rem rgba(32, 178, 170, 0.25);-->
<!--    }-->
<!--    .reward-section {-->
<!--      padding: 20px;-->
<!--      border: 2px dashed #f39c12;-->
<!--      border-radius: 10px;-->
<!--      background: #fff3e0;-->
<!--    }-->

<!--    .reward-button {-->
<!--      border: none;-->
<!--      background: none;-->
<!--      cursor: pointer;-->
<!--      transition: transform 0.2s ease-in-out;-->
<!--    }-->

<!--    .reward-button:hover {-->
<!--      transform: scale(1.1);-->
<!--    }-->

<!--    .reward-gif {-->
<!--      width: 150px;-->
<!--      height: auto;-->
<!--      border-radius: 10px;-->
<!--    }-->

<!--    .reward-info {-->
<!--      font-size: 14px;-->
<!--      color: #333;-->
<!--      margin-top: 10px;-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->

<!--<div class="container">-->
<!--  <div class="deposit-card">-->
<!--    <h3 class="mb-4">Deposit Balance</h3>-->

<!--    <form th:action="@{/balance/deposit}" th:object="${depositRequest}" method="post">-->
<!--      <div class="mb-3">-->
<!--        <label class="form-label">Amount (coins)</label>-->
<!--        <input type="number" th:field="*{amount}" class="form-control" min="1" step="0.01" required>-->
<!--        <div class="text-danger" th:if="${#fields.hasErrors('amount')}" th:errors="*{amount}"></div>-->
<!--      </div>-->

<!--      <div class="mb-3">-->
<!--        <label class="form-label">Card Number</label>-->
<!--        <input type="text" th:field="*{cardNumber}" class="form-control"-->
<!--               placeholder="1234 5678 9012 3456" maxlength="16" required>-->
<!--        <div class="text-danger" th:if="${#fields.hasErrors('cardNumber')}" th:errors="*{cardNumber}"></div>-->
<!--      </div>-->

<!--      <div class="row">-->
<!--        <div class="col-md-6 mb-3">-->
<!--          <label class="form-label">Expiry Date</label>-->
<!--          <input type="text" th:field="*{expiryDate}" class="form-control"-->
<!--                 placeholder="MM/YY" maxlength="5" required>-->
<!--          <div class="text-danger" th:if="${#fields.hasErrors('expiryDate')}" th:errors="*{expiryDate}"></div>-->
<!--        </div>-->

<!--        <div class="col-md-6 mb-3">-->
<!--          <label class="form-label">CVV</label>-->
<!--          <input type="password" th:field="*{cvv}" class="form-control"-->
<!--                 maxlength="3" required>-->
<!--          <div class="text-danger" th:if="${#fields.hasErrors('cvv')}" th:errors="*{cvv}"></div>-->
<!--        </div>-->
<!--      </div>-->

<!--      <button type="submit" class="btn btn-primary w-100">Deposit</button>-->
<!--    </form>-->
<!--  </div>-->


<!--  <div class="reward-section text-center mt-5">-->
<!--    <div>-->
<!--      <a th:href="@{/rewards}"> Get monet</a>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->


<!--<script>-->
<!--  // Добавим простую валидацию на фронтенде-->
<!--  document.addEventListener('DOMContentLoaded', function() {-->
<!--    const form = document.querySelector('form');-->
<!--    const cardInput = form.querySelector('input[name="cardNumber"]');-->
<!--    const expiryInput = form.querySelector('input[name="expiryDate"]');-->

<!--    cardInput.addEventListener('input', function(e) {-->
<!--      this.value = this.value.replace(/\D/g, '').slice(0, 16);-->
<!--    });-->

<!--    expiryInput.addEventListener('input', function(e) {-->
<!--      let value = this.value.replace(/\D/g, '');-->
<!--      if (value.length >= 2) {-->
<!--        value = value.slice(0, 2) + '/' + value.slice(2, 4);-->
<!--      }-->
<!--      this.value = value;-->
<!--    });-->
<!--  });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Deposit Balance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --main-bg: #000000;
      --card-bg: #1a1a1a;
      --text-color: #ffffff;
      --hover-color: #20B2AA;
    }

    body {
      background-color: var(--main-bg);
      color: var(--text-color);
      min-height: 100vh;
    }

    .deposit-card {
      background-color: var(--card-bg);
      border-radius: 16px;
      padding: 2rem;
      max-width: 500px;
      margin: 2rem auto;
    }

    .form-control {
      background-color: #2f2f2f;
      border: 1px solid #404040;
      color: var(--text-color);
    }

    .form-control:focus {
      background-color: #2f2f2f;
      color: var(--text-color);
      border-color: var(--hover-color);
      box-shadow: 0 0 0 0.25rem rgba(32, 178, 170, 0.25);
    }

    .reward-section {
      padding: 20px;
      border: 2px dashed #f39c12;
      border-radius: 10px;
      background: #fff3e0;
      margin-bottom: 20px;
    }

    .reward-button {
      border: none;
      background: none;
      cursor: pointer;
      transition: transform 0.2s ease-in-out;
    }

    .reward-button:hover {
      transform: scale(1.1);
    }

    .reward-gif {
      width: 150px;
      height: auto;
      border-radius: 10px;
    }

    .reward-info {
      font-size: 14px;
      color: #333;
      margin-top: 10px;
    }

    /* Стили для боковой панели в стиле Twitter */
    aside {
      position: fixed;
      left: 20px;
      top: 20px; /* Изменено: фиксированное расстояние от верха */
      width: 275px;
      z-index: 1000;
      background-color: var(--card-bg);
      border-radius: 16px;
      padding: 15px;
      height: auto; /* Высота будет зависеть от содержимого */
      max-height: calc(100vh - 40px); /* Максимальная высота с отступами сверху и снизу */
      overflow-y: auto; /* Добавляем прокрутку если содержимое не помещается */
    }

    /* Общие стили для навигации */
    aside .nav-menu {
      list-style: none;
      padding: 0;
      margin: 0;
      position: sticky;
      top: 0;
    }

    /* Стили для элементов навигации */
    aside .navigation-item {
      margin: 4px 0;
      padding: 12px 16px;
      border-radius: 9999px; /* Круглые углы как в Twitter */
      transition: background-color 0.2s ease;
      display: flex;
      align-items: center;
      gap: 20px;
      cursor: pointer;
    }

    /* Иконки */
    aside .navigation-item i {
      font-size: 20px;
      width: 24px;
      color: var(--text-color);
    }

    /* Стили для ссылок */
    aside a {
      color: var(--text-color);
      text-decoration: none;
      font-size: 18px;
      font-weight: 500;
      display: flex;
      align-items: center;
      width: 100%;
    }

    /* Эффекты при наведении */
    aside .navigation-item:hover {
      background-color: rgba(239, 243, 244, 0.1);
    }

    /* Специальные стили для секции наград */
    aside .reward-section {
      background: transparent;
      border: none;
      padding: 0;
    }

    aside .reward-section a {
      color: #1d9bf0; /* Twitter Blue */
    }
  </style>
</head>
<body>

<div class="container">
  <div class="deposit-card">
    <h3 class="mb-4">Deposit Balance</h3>

    <form th:action="@{/balance/deposit}" th:object="${depositRequest}" method="post">
      <div class="mb-3">
        <label class="form-label">Amount (coins)</label>
        <input type="number" th:field="*{amount}" class="form-control" min="1" step="0.01" required>
        <div class="text-danger" th:if="${#fields.hasErrors('amount')}" th:errors="*{amount}"></div>
      </div>

      <div class="mb-3">
        <label class="form-label">Card Number</label>
        <input type="text" th:field="*{cardNumber}" class="form-control"
               placeholder="1234 5678 9012 3456" maxlength="16" required>
        <div class="text-danger" th:if="${#fields.hasErrors('cardNumber')}" th:errors="*{cardNumber}"></div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Expiry Date</label>
          <input type="text" th:field="*{expiryDate}" class="form-control"
                 placeholder="MM/YY" maxlength="5" required>
          <div class="text-danger" th:if="${#fields.hasErrors('expiryDate')}" th:errors="*{expiryDate}"></div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label">CVV</label>
          <input type="password" th:field="*{cvv}" class="form-control"
                 maxlength="3" required>
          <div class="text-danger" th:if="${#fields.hasErrors('cvv')}" th:errors="*{cvv}"></div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100">Deposit</button>
    </form>
  </div>
</div>

<!-- Новое расположение reward-section внутри aside -->
<aside>
  <nav class="nav-menu">
    <div class="navigation-item">
      <a th:href="@{/}">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
    </div>
    <div class="navigation-item">
      <a th:href="@{'/users/' + ${currentUser}}">
        <i class="fas fa-user"></i>
        <span>Profile</span>
      </a>
    </div>
    <div class="navigation-item">
      <a th:href="@{/balance}">
        <i class="fas fa-wallet"></i>
        <span>Баланс</span>
      </a>
    </div>

    <div class="navigation-item">
      <a th:href="@{/rewards}">
        <i class="fas fa-gift"></i>
        <span>Получить монеты</span>
      </a>
    </div>
<!--    <div class="navigation-item">-->
<!--      <a th:href="@{/settings}">-->
<!--        <i class="fas fa-cog"></i>-->
<!--        <span>Settings</span>-->
<!--      </a>-->
<!--    </div>-->
  </nav>
</aside>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const cardInput = form.querySelector('input[name="cardNumber"]');
    const expiryInput = form.querySelector('input[name="expiryDate"]');

    cardInput.addEventListener('input', function(e) {
      this.value = this.value.replace(/\D/g, '').slice(0, 16);
    });

    expiryInput.addEventListener('input', function(e) {
      let value = this.value.replace(/\D/g, '');
      if (value.length >= 2) {
        value = value.slice(0, 2) + '/' + value.slice(2, 4);
      }
      this.value = value;
    });
  });

  // function claimInstagramVisitReward() {
  //   fetch('/api/rewards/page-visit', {
  //     method: 'POST',
  //     headers: {
  //       'Content-Type': 'application/json',
  //       // Если у вас используется CSRF защита
  //       'X-CSRF-TOKEN': document.querySelector('meta[name="_csrf"]')?.getAttribute('content')
  //     }
  //   })
  //           .then(response => response.json())
  //           .then(data => {
  //             if (data.reward) {
  //               alert('You got +1 bonus for visiting our Instagram!');
  //             }
  //           })
  //           .catch(error => {
  //             console.error('Error claiming reward:', error);
  //           });
  // }
</script>
</body>
</html>